@startuml
title UserContextDiagram
state INITIAL
state OPENED_APPLICATION
state CLIENT_CREATED
state HEADQUARTER_CREATED
state MAP_CREATED
state SENSOR_CREATED
state STATS_GENERATED

[*] --> INITIAL

INITIAL --> OPENED_APPLICATION
note on link
    Login (not on this version)
end note

OPENED_APPLICATION --> CLIENT_CREATED
    note on link
        CreateClient
    end note
CLIENT_CREATED --> CLIENT_CREATED
note on link
    ReadClient
    UpdateClient
    DeleteClient
end note

CLIENT_CREATED --> HEADQUARTER_CREATED
    note on link
        CreateHeadquarter
    end note

HEADQUARTER_CREATED --> HEADQUARTER_CREATED
    note on link
        ReadHeadquarter
        UpdateHeadquarter
        DeleteHeadquarter
    end note

HEADQUARTER_CREATED --> MAP_CREATED
    note on link
        CreateMap
    end note

MAP_CREATED --> MAP_CREATED
    note on link
        ReadMap
        UpdateMap
        DeleteMap
    end note

OPENED_APPLICATION --> SENSOR_CREATED
    note on link
        CreateSensor
    end note

SENSOR_CREATED --> SENSOR_CREATED
    note on link
        ReadSensor
        UpdateSensor
        DeleteSensor
        AddSensorToMap
        AddSensorToStock
    end note

CLIENT_CREATED --> [*]
      note on link
          Logout (not on this version)
      end note

HEADQUARTER_CREATED --> [*]
      note on link
          Logout (not on this version)
      end note

MAP_CREATED --> [*]
      note on link
          Logout (not on this version)
      end note

SENSOR_CREATED --> STATS_GENERATED
       note on link
           ShowState
           PrintState
           SendState
       end note

STATS_GENERATED --> [*]
      note on link
          Logout (not on this version)
      end note

@enduml